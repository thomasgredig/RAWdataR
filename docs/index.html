<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Allows for analysis and processing of RAW data in a reproducible
      fashion. Functions retrieve files based on MD5 checksums and check for
      proper file formats and unique filenames.">
<title>Scientifically Reproducible RAW Data Processing • RAWdataR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Scientifically Reproducible RAW Data Processing">
<meta property="og:description" content="Allows for analysis and processing of RAW data in a reproducible
      fashion. Functions retrieve files based on MD5 checksums and check for
      proper file formats and unique filenames.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">RAWdataR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/RAWdataR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/MD5-Validation.html">MD5 Validation</a>
    <a class="dropdown-item" href="articles/RAW-data-file-validation.html">RAW data file validation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rawdatar">RAWdataR<a class="anchor" aria-label="anchor" href="#rawdatar"></a>
</h1></div>
<!-- badges: start -->

<p><code>RAWdataR</code> provides a framework in R language to uniquely track and analyse raw data from scientific instruments. It assigns unique file IDs based on MD5 sums. This means that even after renaming the files or moving them to different folders, the analysis package can refer to its ID to retrieve the data. Aligned with the National Science Foundation, the <a href="https://www.nsf.gov/data/" class="external-link">Open Data at NSF</a> describes the underlying goals; it also fosters maintaining metadata.</p>
<p>The <code>RAWdataR</code> R package supports the following workflow:</p>
<ul>
<li>Creation of unique IDs for all files in a data project</li>
<li>Basic validation and organization of the scientific data</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of RAWdataR by:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"thomasgredig/RAWdataR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>The <strong><a href="https://thomasgredig.github.io/RAWdataR/">reference documentation</a></strong> has examples and a list of all functions published in this package.</p>
</div>
<div class="section level2">
<h2 id="raw-data-management-protocol">RAW Data Management Protocol<a class="anchor" aria-label="anchor" href="#raw-data-management-protocol"></a>
</h2>
<p><code>Raw data</code> is considered the direct output of a scientific instrument (XRD, AFM, etc.). We will follow a few principles for the <code>data R package</code>:</p>
<ol style="list-style-type: decimal">
<li><p>The data is stored in a <strong>non-proprietory format</strong>, such as comma separated values (.csv) and R Data (.rda) or SQLite database (.sqlite); therefore, the data can be accessed beyond the instrument’s lifetime. If an instrument uses a proprietary data format, then it needs to be converted into an open-source data format.</p></li>
<li><p>All <code>Raw data</code> files in the project are given a unique <code>RAW ID</code>. The ID refers to a particular file and is associated with additional parameters, such as a sample name, temperature, etc. - the ID is limited to the data package and different packages may have the same ID.</p></li>
<li><p>Multiple collaborators can add data without corruption; i.e. data can be appended without the need for full access to the <code>Raw data</code>.</p></li>
<li><p>Some <code>Raw data</code> may not become part of the data package to limit the size. Large data files are stored in SQL format (<code>sqlite</code>) outside the package.</p></li>
<li><p>The data package should include a sufficient description of samples and procedures to understand the instrument RAW data.</p></li>
</ol>
<div class="section level3">
<h3 id="data-and-project">Data and Project<a class="anchor" aria-label="anchor" href="#data-and-project"></a>
</h3>
<p>The analysis and graphing of the data is in a separate project package. The data package is distinct and provides access to the data in a convenient format. If possible, it does not apply modeling or analysis to the data, but rather makes all data available in a central package.</p>
<div class="float">
<img src="figures/Raw-Data-Project-Package.png" alt="Data package and Project package play distinct roles."><div class="figcaption">Data package and Project package play distinct roles.</div>
</div>
</div>
<div class="section level3">
<h3 id="naming-convention">Naming Convention<a class="anchor" aria-label="anchor" href="#naming-convention"></a>
</h3>
<p>In order to achieve scientifically reproducible data, we shall follow these follow principles:</p>
<ul>
<li>
<code>Raw data</code> cannot be altered and are assigned a unique ID for reliable data analysis.</li>
<li>
<code>Raw data</code> file names can be changed or corrected or stored in a different subfolder without affecting the unique IE, which is automatically reconciled using the MD5 CRC string.</li>
<li>All data files must be in non-proprietary formats, if not, then a second file with the converted text or ASCII format content needs to be saved as well. If possible, data file names should include the following formatting information:</li>
</ul>
<blockquote>
<p>Date_Project_Initials_Tool_Sample_RunInfo.csv</p>
</blockquote>
<ul>
<li>sub folders in the RAW folder are useful and can contain additional information; but note that the path file name is mutable and the unique ID must be used.</li>
</ul>
<p>The <strong>date</strong> is in <code>yyyymmdd</code> format and represents the date of the data collection start. The <strong>project string</strong> is assigned by the project manager and the initials are from the person collecting data.</p>
<p><strong>Tools</strong> are short strings and represent the machine taking the data, see <a href="https://github.com/thomasgredig/MSthesis-Guidelines" class="external-link">Tool List</a>.</p>
<p>Each <strong>sample</strong> should have a unique name, generally starting with the initials of the person, and following the date of sample creation. If more than 1 data collection is made in one day, then <strong>RunInfo</strong> is added to distinguish or to add more description to the RAW data file.</p>
</div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to check your RAW folder</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://thomasgredig.github.io/RAWdataR/">RAWdataR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/raw.updateID.html">raw.updateID</a></span><span class="op">(</span><span class="va">path.RAW</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="loading-raw-data">Loading RAW Data<a class="anchor" aria-label="anchor" href="#loading-raw-data"></a>
</h3>
<p>For graphing and data analysis the correct files need to be loaded. A common approach would be searching data files by <code>project</code>, <code>date</code>, <code>user</code>, or by <code>instrument</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for instance, find all VSM files from 2018</span></span>
<span><span class="va">file.list</span> <span class="op">=</span> <span class="fu"><a href="reference/raw.findFiles.html">raw.findFiles</a></span><span class="op">(</span><span class="va">path.RAW</span>, date<span class="op">=</span><span class="st">'2018'</span>, instrument<span class="op">=</span><span class="st">'vsm'</span><span class="op">)</span></span></code></pre></div>
<p>As more data is stored, the <code>file.list</code> may change overtime. Therefore, the approach to ensure reproducibility requires the generation of a MD5 string using <code>raw.getPartialMD5str</code>, once the exact file list is established, it can be hard-coded as a string (see below for 4 files). Even if more files are generated, the file list is restricted by the MD5 codes.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">md5String</span> <span class="op">=</span> <span class="fu"><a href="reference/raw.getPartialMD5str.html">raw.getPartialMD5str</a></span><span class="op">(</span><span class="va">file.list</span><span class="op">)</span></span>
<span><span class="va">file.list</span> <span class="op">=</span> <span class="fu"><a href="reference/raw.findFiles.html">raw.findFiles</a></span><span class="op">(</span><span class="va">path.RAW</span>, date<span class="op">=</span><span class="st">'2018'</span>, instrument<span class="op">=</span><span class="st">'vsm'</span>,</span>
<span>    md5 <span class="op">=</span> <span class="st">'a25f3a,66c5d1,4a0333,1b94b5'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="invalid-files">Invalid Files<a class="anchor" aria-label="anchor" href="#invalid-files"></a>
</h3>
<p>You can also find files with invalid naming convention using the following function, where date is optional</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/raw.getInvalidFiles.html">raw.getInvalidFiles</a></span><span class="op">(</span><span class="va">path.RAW</span>, date<span class="op">=</span><span class="st">'2020'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="file-checking">File Checking<a class="anchor" aria-label="anchor" href="#file-checking"></a>
</h3>
<p>Instead of using direct filenames, you can use checksums from the files. For a project that has data added all the time, you could have the following code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://thomasgredig.github.io/RAWdataR/">RAWdataR</a></span><span class="op">)</span></span>
<span><span class="va">s</span> <span class="op">=</span> <span class="fu"><a href="reference/raw.getPartialMD5.html">raw.getPartialMD5</a></span><span class="op">(</span><span class="st">"README.md"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">file.list</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># this will return 'README.md'</span></span>
<span><span class="va">filename</span> <span class="op">=</span> <span class="fu"><a href="reference/raw.getFilename.html">raw.getFilename</a></span><span class="op">(</span><span class="va">file.list</span>,<span class="va">s</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="data-project">Data Project<a class="anchor" aria-label="anchor" href="#data-project"></a>
</h2>
<p>If you have a new project with RAW data, you can quickly initialize it using the <code><a href="reference/raw.dataProject.html">raw.dataProject()</a></code> function. It will prompt you to select a directory that has a <code>RAW</code> subfolder and then generate the R data package. Once generated, you can open the new data package and run the <code>_init.R</code> code, which helps you prepare a documented data package. Afterwards, it is recommended to add tests to verify data content.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">RAWdataR</span><span class="fu">::</span><span class="fu"><a href="reference/raw.dataProject.html">raw.dataProject</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can use <code><a href="reference/raw.dataMaker.html">raw.dataMaker()</a></code> to generate a make.data..R file that creates a dataset.</p>
</div>
<div class="section level2">
<h2 id="data-standards">Data Standards<a class="anchor" aria-label="anchor" href="#data-standards"></a>
</h2>
<p>We distinguish between digital data from experimental instruments (AFM, XRD, spectrometer, etc.) and analog data (observations, sample names, etc.). All raw instrument data is stored in standardized, open-accessible formats and/or CSV tables, if possible.</p>
<p>A quality control procedure should be in place.</p>
<p>Data analysis will be organized, reproducible and open access. Raw and m’’;’lkjhgfd eta data is saved in R packages. The primary analysis of scientific data is either in R packages or jupyter notebooks. Naming conventions are to be followed.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing RAWdataR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://home.csulb.edu/~tgredig/" class="external-link">Thomas Gredig</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5824-7626" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://app.codecov.io/gh/thomasgredig/RAWdataR?branch=master" class="external-link"><img src="https://codecov.io/gh/thomasgredig/RAWdataR/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://home.csulb.edu/~tgredig/" class="external-link">Thomas Gredig</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
